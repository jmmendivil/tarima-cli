#!/usr/bin/env node

var run = require('./'),
    path = require('path');

var pwd = process.cwd();

run({
  src: path.join(pwd, 'src'),
  dest: path.join(pwd, 'dest/build'),
  cache: path.join(pwd, 'dest/index.json'),
  watch: process.argv.indexOf('--watch') > -1,
  ignored: ['**/{images,sprites,fonts,icons*,main,views,test,docs}/**'],
  exclude: ['!**/_*', '!**/_*/**'],
  bundle: true,
  rename: {
    coffee: 'js',
    less: 'css',
    jade: 'html'
  }
}, function(err, result) {
  if (err) {
    console.log(err.stack || err);
  }

  console.log(result.files.length + ' file(s) synced');
});
